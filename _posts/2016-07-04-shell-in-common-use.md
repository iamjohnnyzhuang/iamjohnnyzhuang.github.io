---
layout: post
title: 学会这些Shell命令就够了
categories: [shell]
---

# 关于这篇文章
学习Linux的童鞋相信都是从常用的Linux命令开始学习的吧。但是总会遇到和博主一样的问题：基本的Linux命令（如cd、rm、mv等等）学会了，但总感觉还是对Linxu很生疏。遇到一些特殊一点的情况就又得到处去google。所以我写这篇文章打算纪录一些工作中常见到的Shell命令。这样以后就不用再在用的时候到处去Google了。此外，对这些命令进行一些简单的分析，以小见到，从这些命令中来加深对Linxu以及Shell的理解。此篇文章保持长期更新。

# 系统环境
虽然是针对Linux的，但是由于答主的电脑用的是Mac OS以及Zsh，因此这里主要是以Mac Os + Zsh为主，但是和Linux + Bash 没多大区别哦！

# 常用场景
**1. 查找指定目录下的文件，这些文件要包含指定字符串**

有修改过Wordpress等网站且不擅长PHP没用IDE的童鞋肯定遇到过这样的问题：通过前端Chrome找到某个需要修改的前端代码片段（比如模板写的是power by johnny-zhuang）对于使用模板的人肯定不想暴露自己的网站使用了谁的模板吧。这个时候就会想去修改这段代码。

但是没有IDE，我们虽然知道了这段代码的关键字（如power by johnny-zhuang）怎么去寻找它出现在哪呢？

这个时候我们可以借助Shell的find和grep操作。先给出这个问题的解答。

``` shell
find . | xargs grep -r "power by johnny-zhuang"
```

find 操作查找当前目录下的所有文件，然后经过xargs操作。为什么用xargs操作呢？

>   它的作用是将参数列表转换成小块分段传递给其他命令，以避免参数列表过长的问题。 （维基百科）

简而言之使用了xargs防止搜索的文件列表太长的情况。

对于每个小片段进行grep操作。加入-r操作让grep可以进行递归搜索。这里grep直接搜索想要的字符串。如果要搜索的是正则表达式可以用

``` shell
grep -e  "正则表达式"
```

到此为止，第一个使用命令就讲完啦。通过这个场景我们可以学会find 以及 grep xargs 的基础操作了。

----

**2.日期转换**

我们在工作的时候经常会涉及到日期date的操作。关于date很简单，主要是要用到三种。最简单的一种就是简单的直接输出当前日期：

``` shell	
date
#输出当前时间  2016年07月20日 10:40:20  
```

这样的日期很显然但是显然不适合让机器去读。机器为了比较我们经常会将他们转化成时间戳。

> 时间戳是指格林威治时间1970年01月01日00时00分00秒(北京时间1970年01月01日08时00分00秒)起至现在的总毫秒数。   —— 维基百科
>

Shell也提供了很方便的将时间转化为时间戳操作： 

```shell
date +"%s"
#输出时间戳  1468983374
```

同时我们也经常会做的是将日期进行格式化输出。如下所示：

``` shell
 date +"%Y-%m-%d %H:%m:%S"
 #格式化输出 2016-07-20 10:07:23
```







